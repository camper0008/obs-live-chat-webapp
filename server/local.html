<html>
    <head>
        <style>
            body {
                width: calc(100vw - 24px);
                height: calc(100vh - 24px);
                margin: 12px;
                display: flex;
                flex-direction: column-reverse;
            }
            #container {
                font-size: 64px;
                font-family: 'Segoe UI';
            }
            text {
                display: inline;
                background-color: white;
                color: black;
            }
        </style>
    </head>
    <body>
        <div id="container"></div>
    <!--scripts-->
    <script>
        refresh = () => {
            let element = document.getElementById('container')
            fetch('/chat') 
            .then(response => response.json())
            .then(data => {
                element.innerHTML = ''
                for (let i = 0; i < data.length; i++) {
                    element.innerHTML += '<text>' + data[i].time + ' ' + '['+data[i].username+']: ' + data[i].message + '</text><br>';
                }
            })
            .catch((error) => {
                element.innerHTML = ('error occured fetching chatlog:' + error)
            });
        }
        refresh();
        setInterval(refresh, 2000);
    </script>
    </body>
</html>